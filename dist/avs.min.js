!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("codemirror")):"function"==typeof define&&define.amd?define(["codemirror"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).CodeMirror)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);
/*! codemirror-avs | MIT License | github.com/visbot/codemirror-avs */function i(e,t,n,i,a,r){this.indented=e,this.column=t,this.type=n,this.info=i,this.align=a,this.prev=r}function a(e,t,n,a){var r=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=n&&(r=e.context.indented),e.context=new i(r,t,n,a,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function s(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function o(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function l(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function u(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}function d(e,t){"string"==typeof e&&(e=[e]);var i=[];function a(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}a(t.variables),a(t.builtin),a(t.constants),i.length&&(t.helperType=e[0],n.default.registerHelper("hintWords",e[0],i));for(var r=0;r<e.length;++r)n.default.defineMIME(e[r],t)}n.default.defineMode("avs",(function(e,t){var l=e.indentUnit,d=t.statementIndentUnit||l,f=t.dontAlignCalls,c=t.keywords||{},v=t.builtin||{},p=t.blockKeywords||{},m=t.defKeywords||{},b=t.types||{},y=t.constants||{},h=t.variables||{},x=t.hooks||{},w=t.multiLineStrings,g=!1!==t.indentStatements;t.indentSwitch;var k,S,z=t.namespaceSeparator,C=t.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,$=t.numberStart||/[\d\.]/,I=t.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,L=t.isOperatorChar||/[+\-*&%=<>!?|\/]/,T=t.isIdentifierChar||/[\w\$_\xa1-\uffff]/;function E(e,t){var n,i=e.next();if(x[i]){var a=x[i](e,t);if(!1!==a)return a}if('"'==i||"'"==i)return t.tokenize=(n=i,function(e,t){for(var i,a=!1,r=!1;null!=(i=e.next());){if(i==n&&!a){r=!0;break}a=!a&&"\\"==i}return(r||!a&&!w)&&(t.tokenize=null),"string"}),t.tokenize(e,t);if(C.test(i))return k=i,null;if($.test(i)){if(e.backUp(1),e.match(I))return"number";e.next()}if("/"==i){if(e.eat("*"))return t.tokenize=O,O(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(L.test(i)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(L););return"operator"}if(e.eatWhile(T),z)for(;e.match(z);)e.eatWhile(T);var r=e.current();return u(c,r)?(u(p,r)&&(k="newstatement"),u(m,r)&&(S=!0),"keyword"):u(b,r)?"type":u(v,r)?(u(p,r)&&(k="newstatement"),"builtin"):u(h,r)?"variable":u(y,r)?"variable-2":"keyword"}function O(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=null;break}i="*"==n}return"comment"}function q(e,n){t.typeFirstDefinitions&&e.eol()&&o(n.context)&&(n.typeAtEndOfLine=s(e,n,e.pos))}return{startState:function(e){return{tokenize:null,context:new i((e||0)-l,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,n){var i=n.context;if(e.sol()&&(null==i.align&&(i.align=!1),n.indented=e.indentation(),n.startOfLine=!0),e.eatSpace())return q(e,n),null;k=S=null;var l=(n.tokenize||E)(e,n);if("comment"==l||"meta"==l)return l;if(null==i.align&&(i.align=!0),";"==k||":"==k||","==k&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==n.context.type;)r(n);else if("{"==k)a(n,e.column(),"}");else if("["==k)a(n,e.column(),"]");else if("("==k)a(n,e.column(),")");else if("}"==k){for(;"statement"==i.type;)i=r(n);for("}"==i.type&&(i=r(n));"statement"==i.type;)i=r(n)}else k==i.type?r(n):g&&(("}"==i.type||"top"==i.type)&&";"!=k||"statement"==i.type&&"newstatement"==k)&&a(n,e.column(),"statement",e.current());if("variable"==l&&("def"==n.prevToken||t.typeFirstDefinitions&&s(e,n,e.start)&&o(n.context)&&e.match(/^\s*\(/,!1))&&(l="def"),x.token){var u=x.token(e,n,l);void 0!==u&&(l=u)}return"def"==l&&!1===t.styleDefs&&(l="variable"),n.startOfLine=!1,n.prevToken=S?"def":l||k,q(e,n),l},indent:function(e,i){if(e.tokenize!=E&&null!=e.tokenize||e.typeAtEndOfLine)return n.default.Pass;var a=e.context,r=i&&i.charAt(0);if("statement"==a.type&&"}"==r&&(a=a.prev),t.dontIndentStatements)for(;"statement"==a.type&&t.dontIndentStatements.test(a.info);)a=a.prev;if(x.indent){var s=x.indent(e,a,i);if("number"==typeof s)return s}var o=r==a.type,u=a.prev&&"switch"==a.prev.info;if(t.allmanIndentation&&/[{(]/.test(r)){for(;"top"!=a.type&&"}"!=a.type;)a=a.prev;return a.indented}return"statement"==a.type?a.indented+("{"==r?0:d):!a.align||f&&")"==a.type?")"!=a.type||o?a.indented+(o?0:l)+(o||!u||/^(?:case|default)\b/.test(i)?0:l):a.indented+d:a.column+(o?0:1)},blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//"}}));var f=l("abs sin cos tan asin acos atan atan2 sqr sqrt invsqrt pow exp log log10 floor ceil sign min max sigmoid rand band bor bnot if assign exec2 equal above below getosc getspec gettime getkbmouse megabuf gmegabuf loop"),c=l("$e $phi $pi $E $PHI $PI"),v=!1;d(["avs/bump"],{name:"avs",variables:l("x y isBeat isLBeat bi"),builtin:f,constants:c,indentSwitch:v}),d(["avs/color-modifier","avs/cm"],{name:"avs",variables:l("red green blue"),builtin:f,constants:c,indentSwitch:v}),d(["avs/dynamic-distance-modifier","avs/ddm"],{name:"avs",variables:l("d"),builtin:f,constants:c,indentSwitch:v}),d(["avs/dynamic-movement","avs/dm"],{name:"avs",variables:l("x y w h r d alpha"),builtin:f,constants:c,indentSwitch:v}),d(["avs/dynamic-shift","avs/ds"],{name:"avs",variables:l("x y w h b alpha"),builtin:f,constants:c,indentSwitch:v}),d(["avs/effect-list","avs/el"],{name:"avs",variables:l("enabled beat clear alphain alphaout w h"),builtin:f,constants:c,indentSwitch:v}),d(["avs/movement","avs/mov"],{name:"avs",variables:l("r d x y sw sh"),builtin:f,constants:c,indentSwitch:v}),d(["avs/superscope","avs/ssc"],{name:"avs",variables:l("n x y i v b red green blue linesize skip drawmode w h"),builtin:f,constants:c,indentSwitch:v}),d(["avs/texer2","avs/t2"],{name:"avs",variables:l("n w h i x y v b iw ih sizex sizey red green blue skip"),builtin:f,constants:c,indentSwitch:v}),d(["avs/triangle","avs/tr"],{name:"avs",variables:l("n x1 x2 x3 y1 y2 y3 z1 skip red1 blue1 green1 w h zbclear zbuf"),builtin:f,constants:c,indentSwitch:v}),d(["text/x-avs","avs","avs/*"],{name:"avs",variables:l("alpha alphain alphaout b beat bi blue blue1 clear d drawmode enabled green green1 h i ih isBeat isLBeat iw linesize n r red red1 sh sizex sizey skip sw v w x x1 x2 x3 y y1 y2 y3 z1 zbclear zbuf"),builtin:f,constants:c,indentSwitch:v})}));
